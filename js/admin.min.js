!function(i){var m,$;i(function(){var e=i(".available-headers");e.imagesLoaded(function(){e.masonry({itemSelector:".default-header",isRTL:!("undefined"==typeof isRtl||!isRtl)})}),i(document).on("click","div .library-link",function(e){var t=i(this);$=this.name,e.preventDefault();var a=t.data("option"),n=t.data("uploader"),c=t.data("icon-check")&&t.attr("data-icon-check");a&&0<a.indexOf(",")&&(a=a.split(",")),(m=wp.media.frames.customHeader=wp.media({title:t.data("choose"),library:{type:a},uploader:n,button:{text:t.data("update"),close:!0}})).on("select",function(){var e=m.state().get("selection").first(),t=e.attributes.url,a=e.attributes.alt,n=e.attributes.filename,r=i('input[type="hidden"][name="'+$+'"]'),d=i("#"+$+"_img"),o=i('input[type="text"][id="'+$+'_filename"]');if(/\d+_media_image/.test($)){var l=document.getElementById($.substring(0,$.indexOf("_"))+"_caweb_nav_media_image_alt_text");i(l).val(a),i('input[id="'+$+'"]').val(t)}else if("true"!==c)null!==r&&r.val(t),null!==d&&d.attr("src",t),null!==o&&o.val(n),/header_ca_branding/.test($)&&i("#header_ca_branding_alt_text").val(a);else{var s={action:"caweb_fav_icon_check",icon_url:t};jQuery.post(ajaxurl,s,function(e){1==e?(null!==r&&r.val(t),null!==d&&d.attr("src",t),null!==o&&o.val(n)):alert("Invalid Icon Mime Type: "+n)})}}),m.on("open",function(){if(!n){var e=m.el.getElementsByClassName("media-frame-router")[0].getElementsByClassName("media-router")[0].getElementsByClassName("media-menu-item");e[1].click(),e[0].parentNode.removeChild(e[0])}}),m.open()})})}(jQuery),jQuery(document).ready(function(){$(".remove-alert").click(function(e){re(this)}),$(".alert-status").click(function(e){ne(this)}),$("#add-alert").click(function(e){!function(){var e=$("#alertBanners"),t=$(e).children("li").length+1,a=document.createElement("LI"),n=document.createElement("DIV"),r=document.createElement("SPAN"),d=document.createElement("A"),o=document.createElement("H2"),l=document.createElement("SPAN"),s=document.createElement("DIV"),c=document.createElement("DIV"),i=document.createElement("INPUT"),m=document.createElement("DIV"),u=document.createElement("DIV"),p=document.createElement("LABEL"),h=document.createElement("INPUT"),f=document.createElement("DIV"),g=document.createElement("A"),v=document.createElement("LABEL"),b=document.createElement("SPAN"),C=document.createElement("DIV"),E=document.createElement("TEXTAREA"),_=document.createElement("DIV"),y=document.createElement("A"),x=document.createElement("LABEL"),k=document.createElement("SPAN"),I=document.createElement("DIV"),L=document.createElement("DIV"),w=document.createElement("LABEL"),A=document.createElement("DIV"),D=document.createElement("INPUT"),N=document.createElement("LABEL"),T=document.createElement("DIV"),B=document.createElement("INPUT"),V=document.createElement("LABEL"),M=document.createElement("DIV"),P=document.createElement("INPUT"),j=document.createElement("LABEL"),O=document.createElement("DIV"),U=document.createElement("A"),S=document.createElement("INPUT"),Q=document.createElement("LABEL"),R=document.createElement("DIV"),H=document.createElement("DIV"),z=document.createElement("INPUT"),F=document.createElement("LABEL"),W=document.createElement("SMALL"),X=document.createElement("DIV"),Y=document.createElement("INPUT"),q=document.createElement("LABEL"),G=document.createElement("DIV"),J=document.createElement("INPUT"),K=document.createElement("LABEL"),Z=document.createElement("DIV");$(n).addClass("form-row"),$(r).addClass("text-danger dashicons dashicons-dismiss remove-alert mr-2"),r.addEventListener("click",function(e){re(this)}),$(d).addClass("d-block text-decoration-none"),$(d).attr("href","#alert-banner-"+t),$(d).attr("aria-expanded","true"),$(d).attr("aria-controls","alert-banner-"+t),$(d).attr("data-toggle","collapse"),$(o).addClass("d-inline border-bottom"),$(o).html("Label"),$(l).addClass("text-secondary ca-gov-icon-"),$(c).addClass("dashicons align-middle bg-success rounded-circle alert-status mb-0"),c.addEventListener("click",function(e){ne(this)}),$(i).attr("type","hidden"),$(i).attr("name","alert-status-"+t),$(m).attr("id","alert-banner-"+t),$(m).addClass("form-row col-sm-12 border p-2 collapse show"),$(u).addClass("form-group col-sm-7"),$(p).attr("for","alert-header-"+t),$(p).html("Header"),$(h).addClass("form-control"),$(h).val("Label"),$(h).attr("type","text"),$(h).attr("placeholder","Label"),$(h).attr("name","alert-header-"+t),$(f).addClass("form-group col-sm-12"),$(g).addClass("text-decoration-none text-reset"),$(g).attr("data-toggle","collapse"),$(g).attr("href","#alert-message-"+t+"_iframe"),$(g).attr("aria-expanded","true"),$(g).attr("aria-controls","alert-message-"+t+"_iframe"),$(v).addClass("border-bottom"),$(v).attr("for","alert-message-"+t),$(v).html("Message"),$(b).addClass("text-secondary ca-gov-icon-"),$(C).addClass("collapse show"),$(C).attr("id","alert-message-"+t+"_iframe"),$(E).attr("name","alert-message-"+t),$(E).attr("id","alertmessage-"+t),$(_).addClass("form-group col-sm-12"),$(y).addClass("collapsed text-decoration-none text-reset"),$(y).attr("data-toggle","collapse"),$(y).attr("href","#alert-"+t+"-settings"),$(y).attr("aria-expanded","false"),$(y).attr("aria-controls","#alert-"+t+"-settings"),$(x).html("Settings"),$(x).addClass("border-bottom"),$(k).addClass("text-secondary ca-gov-icon-"),$(I).attr("id","alert-"+t+"-settings"),$(I).addClass("collapse"),$(L).addClass("form-group col-sm pl-0"),$(w).addClass("d-block"),$(w).html("<strong>Display on</strong>"),$(A).addClass("form-check form-check-inline"),$(D).attr("id","alert-display-"+t),$(D).attr("name","alert-display-"+t),$(D).attr("type","radio"),$(D).val("home"),$(D).attr("checked","true"),$(D).addClass("form-check-input"),$(N).addClass("form-check-label"),$(N).attr("for","alert-display-"+t),$(N).html("Home Page Only"),$(T).addClass("form-check form-check-inline"),$(B).attr("id","alert-display-"+t),$(B).attr("name","alert-display-"+t),$(B).attr("type","radio"),$(B).val("all"),$(B).addClass("form-check-input"),$(V).addClass("form-check-label"),$(V).attr("for","alert-display-"+t),$(V).html("All Pages"),$(M).addClass("form-group col-sm pl-0"),$(j).attr("for","alert-banner-color-"+t),$(j).html("<strong>Banner Color</strong>"),$(P).attr("id","alert-banner-color-"+t),$(P).attr("name","alert-banner-color-"+t),$(P).attr("type","color"),$(P).addClass("form-control-sm ml-1");var ee=$("#ca_site_color_scheme")[0],te=ee.options[ee.selectedIndex].value;$(P).val(args.caweb_colors[te].highlight),$(O).addClass("form-group pl-0"),$(Q).addClass("d-block"),$(Q).html("<strong>Read More Button</strong>"),$(U).attr("data-toggle","collapse"),$(U).attr("href","#alert-banner-read-more-"+t),$(U).addClass("shadow-none"),$(S).attr("type","checkbox"),$(S).attr("checked","true"),$(S).attr("name","alert-banner-read-more-"+t),$(S).attr("id","alert-banner-read-more-"+t),$(S).addClass("form-control"),$(R).attr("id","alert-banner-read-more-"+t),$(R).addClass("collapse show"),$(H).addClass("form-group col-sm-6 pl-0"),$(F).addClass("d-block"),$(F).html("<strong>Read More Button Text</strong>"),$(z).attr("type","text"),$(z).attr("name","alert-read-more-text-"+t),$(z).attr("id","alert-read-more-text-"+t),$(z).attr("maxlength",16),$(z).addClass("form-control"),$(W).addClass("text-muted"),$(W).html("(Max Characters: 16)"),$(X).addClass("form-group col-sm-6 pl-0 d-inline-block"),$(q).addClass("d-block"),$(q).html("<strong>Read More Button Url</strong>"),$(Y).attr("type","text"),$(Y).attr("name","alert-read-more-url-"+t),$(Y).attr("id","alert-read-more-url-"+t),$(Y).addClass("form-control"),$(G).addClass("form-group col-sm-4 pl-0 d-inline-block align-top"),$(K).addClass("d-block"),$(K).html("<strong>Open link in New Tab</strong>"),$(J).attr("type","checkbox"),$(J).attr("checked","true"),$(J).attr("data-toggle","toggle"),$(J).attr("name","alert-read-more-target-"+t),$(J).attr("id","alert-read-more-target-"+t),$(J).addClass("form-control"),$(Z).addClass("form-group col-sm-12 d-inline-block pl-0");var ae={action:"caweb_icon_menu",name:"alert-icon-"+t,select:"important",header:"Icon"};$.post(ajaxurl,ae,function(e){$(Z).html(e)}),$(o).append(l),$(d).append(o),$(s).append(c),$(s).append(i),$(u).append(p),$(u).append(h),$(v).append(b),$(g).append(v),$(C).append(E),$(f).append(g),$(f).append(C),$(x).append(k),$(y).append(x),$(A).append(D),$(A).append(N),$(T).append(B),$(T).append(V),$(L).append(w),$(L).append(A),$(L).append(T),$(M).append(j),$(M).append(P),$(U).append(S),$(O).append(Q),$(O).append(U),$(H).append(F),$(H).append(z),$(H).append(q),$(H).append(W),$(X).append(q),$(X).append(Y),$(G).append(K),$(G).append(J),$(R).append(H),$(R).append(X),$(R).append(G),$(I).append(L),$(I).append(M),$(I).append(O),$(I).append(R),$(I).append(Z),$(_).append(y),$(_).append(I),$(m).append(u),$(m).append(f),$(m).append(_),$(n).append(r),$(n).append(d),$(n).append(s),$(n).append(m),$(a).append(n),$(e).append(a),wp.editor.initialize("alertmessage-"+t,args.tinymce_settings),$(S).bootstrapToggle(),$(J).bootstrapToggle({on:"Yes",off:"No"}),changeMade=!0}()});var ne=function(e){$(e).toggleClass("bg-success"),$(e).toggleClass("bg-danger");var t=$(e).hasClass("bg-success")?"active":"";$(e).next().val(t),changeMade=!0},re=function(e){1==confirm("Are you sure you want to remove this alert? This can not be undone.")&&(changeMade=!0,$(e).parent().remove())}}),jQuery(document).ready(function(){function a(e){var t=$(e).find("LI");for(o=0;o<t.length-1;o++)$(t[o]).removeClass("active");var a=$(e).find("input");a.length&&$(a).val("")}$(document).on("click",".caweb-icon-menu li",function(e){!function(e){a($(e).parent()),$(e).addClass("active");var t=$(e).parent().find("input");t.length&&$(t).val($(e).attr("title"))}(this)}),$(document).on("click",".caweb-icon-menu-header .resetIcon",function(e){a($(this).parent().next())})}),jQuery(document).ready(function(){$(".remove-css, .remove-js").click(function(e){e.preventDefault(),1==confirm("Are you sure you want to remove "+this.title+"? This can not be undone.")&&(changeMade=!0,this.parentNode.remove())}),$("#add-css, #add-js").click(function(e){var t,a,n,r,d,o=$(this).attr("id").replace("add-","");t=$("#uploaded-"+o),a=o,n=document.createElement("LI"),r=document.createElement("INPUT"),d=document.createElement("a"),n.classList="list-group-item",r.type="file",r.name="caweb_external_"+a+"[]",r.accept="."+a,r.classList="form-control-file border-bottom border-warning pl-2 d-inline-block w-75",r.addEventListener("change",function(){var e=this.value.substring(this.value.lastIndexOf("\\")+1),t=0<e.lastIndexOf(".")?e.substring(e.lastIndexOf(".")+1).toLowerCase():"";""===t||a!==t?(alert(e+" isn't a valid "+a+" extension and was not uploaded."),$(this).parent().remove()):d.title="remove "+e}),d.classList="dashicons dashicons-dismiss text-danger align-middle",d.addEventListener("click",function(e){e.preventDefault(),1==(""===this.title||confirm("Are you sure you want to "+this.title+"? This can not be undone."))&&(changeMade=!0,$(this).parent().remove())}),$(n).append(d),$(n).append(r),$(t).append(n),changeMade=!0})}),jQuery(document).ready(function(){"use strict";function a(){var e=$(this).attr("id").substr($(this).attr("id").lastIndexOf("-")+1),t=$("#menu-item-"+e),a=$("#menu-item-settings-"+e+" .icon-selector"),n=$("#menu-item-settings-"+e+" .media-image"),r=$("#menu-item-settings-"+e+" .field-description"),d=$("#menu-item-settings-"+e+" .mega-menu-images"),o=$("#menu-item-settings-"+e+" .unit-size-selector"),l=$(o).val();$(t).hasClass("menu-item-depth-0")?($(d).removeClass("hidden"),$(a).removeClass("hidden"),$(n).addClass("hidden"),$(o).addClass("hidden"),$(r).addClass("hidden-field")):($(d).addClass("hidden"),$(o).removeClass("hidden"),"unit1"!==l?$(r).addClass("hidden-field"):$(r).removeClass("hidden-field"),"unit3"===l?($(a).addClass("hidden"),$(n).removeClass("hidden")):($(a).removeClass("hidden"),$(n).addClass("hidden")))}$(document).on("click",'input[name="save_menu"]',function(r){$('.media-image:not(.hidden) input[name$="_caweb_nav_media_image_alt_text"]').each(function(e,t){if(""===$(t).val().trim()){var a=$(t).attr("id").substring(0,$(t).attr("id").indexOf("_")),n=$("#edit-menu-item-title-"+a).val();alert(n+" Navigation Media Image Alt Text can not be blank."),r.preventDefault()}})}),$(document).on("change","div .unit-size-selector",function(){var e=$(this).attr("id").substr($(this).attr("id").lastIndexOf("-")+1),t=$("#menu-item-settings-"+e+" .icon-selector"),a=$("#menu-item-settings-"+e+" .media-image"),n=$("#menu-item-settings-"+e+" .field-description"),r=$(this).val();"unit1"===r?$(n).addClass("hidden-field"):$(n).removeClass("hidden-field"),"unit3"===r?($(a).removeClass("hidden"),$(t).addClass("hidden")):($(a).addClass("hidden"),$(t).removeClass("hidden"))}),$(document).on("DOMSubtreeModified","#menu-to-edit",function(){$(".pending a.item-edit").each(function(e,t){$(t).on("click",a)})}),$(".item-edit").click(a)}),jQuery(document).ready(function(){"use strict";var a=!1;$(window).on("beforeunload",function(){if(a&&"nav-menus.php"!==args.changeCheck)return"Are you sure you want to leave?"}),$("#caweb-options-form select,#caweb-options-form input").on("change",function(){a=!0}),$("#caweb-options-form input").on("input",function(){a=!0}),$('#caweb-options-form input[type="button"],#caweb-options-form button:not(.doc-sitemap)').on("click",function(){a=!0}),$("#caweb-options-form").submit(function(){a=!1,this.submit()}),$("#resetFavIcon").click(function(){var e=args.defaultFavIcon,t=e.substring(e.lastIndexOf("/")+1);$('input[type="text"][name="ca_fav_ico"]').val(t),$('input[type="hidden"][name="ca_fav_ico"]').val(e),$("#ca_fav_ico_img").attr("src",e),a=!0}),$("#ca_google_search_id").on("input",function(e){var t=$('label[for="ca_frontpage_search_enabled"]').parent();this.value.trim()?5<=site_version&&t.removeClass("invisible"):t.addClass("invisible")}),$("#ca_x_ua_compatibility").on("change",function(e){var t=this.checked,a=$(this).parent().next();t?a.html("IE 11 browser compatibility enabled. Warning: creates accessibility errors when using IE browsers."):a.html("")}),$('input[name^="ca_google_trans_enabled"]').click(function(){"ca_google_trans_enabled_custom"!==$(this).attr("id")?$("#ca_google_trans_enabled_custom_extras").collapse("hide"):$("#ca_google_trans_enabled_custom_extras").collapse("show")}),$("button.doc-sitemap").click(function(e){e.preventDefault();$.post(ajaxurl,{action:"create_doc_sitemap"},function(e){$(".doc-sitemap-update").html(e)})})});