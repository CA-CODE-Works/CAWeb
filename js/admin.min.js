!function(r){var m,u;r(function(){var e=r(".available-headers");e.imagesLoaded(function(){e.masonry({itemSelector:".default-header",isRTL:!("undefined"==typeof isRtl||!isRtl)})}),r(document).on("click","div .library-link",function(e){var t=r(this);u=this.name,e.preventDefault();var n=t.data("option"),a=t.data("uploader"),o=t.data("icon-check")&&t.attr("data-icon-check");n&&0<n.indexOf(",")&&(n=n.split(",")),(m=wp.media.frames.customHeader=wp.media({title:t.data("choose"),library:{type:n},uploader:a,button:{text:t.data("update"),close:!0}})).on("select",function(){var e=m.state().get("selection").first(),t=e.attributes.url,n=e.attributes.alt,a=e.attributes.filename,i=r('input[type="hidden"][name="'+u+'"]'),l=r("#"+u+"_img"),d=r('input[type="text"][id="'+u+'_filename"]');if(/\d+_media_image/.test(u)){var s=document.getElementById(u.substring(0,u.indexOf("_"))+"_caweb_nav_media_image_alt_text");i.value=t,s.value=n}else if("true"!==o)null!==i&&i.val(t),null!==l&&l.attr("src",t),null!==d&&d.val(a),/header_ca_branding/.test(u)&&r("#header_ca_branding_alt_text").val(n);else{var c={action:"caweb_fav_icon_check",icon_url:t};jQuery.post(ajaxurl,c,function(e){1==e?(null!==i&&i.val(t),null!==l&&l.attr("src",t),null!==d&&d.val(a)):alert("Invalid Icon Mime Type: "+a)})}}),m.on("open",function(){if(!a){var e=m.el.getElementsByClassName("media-frame-router")[0].getElementsByClassName("media-router")[0].getElementsByClassName("media-menu-item");e[1].click(),e[0].parentNode.removeChild(e[0])}}),m.open()})})}(jQuery),function(P){"use strict";var c=!1;function p(e){e.classList.toggle("inactive"),-1<e.className.indexOf("inactive")?e.firstElementChild.value="inactive":e.firstElementChild.value="active"}function h(e){e.parentNode.nextElementSibling.classList.toggle("hidden"),e.parentNode.nextElementSibling.classList.contains("hidden")?(e.parentNode.firstElementChild.innerHTML=""!==e.parentNode.nextElementSibling.firstElementChild.value.trim()?e.parentNode.nextElementSibling.firstElementChild.value:"Header",e.classList.remove("dashicons-arrow-up"),e.classList.add("dashicons-arrow-down")):(e.parentNode.firstElementChild.innerHTML="Header",e.classList.remove("dashicons-arrow-down"),e.classList.add("dashicons-arrow-up"))}function v(e){1==confirm("Are you sure you want to remove this alert? This can not be undone.")&&(c=!0,e.parentNode.parentNode.parentNode.remove())}function H(e){e.parentNode.parentNode.nextSibling.classList.toggle("hidden")}P(window).on("beforeunload",function(){if(c&&"nav-menus.php"!==args.changeCheck)return"Are you sure you want to leave?"}),P('textarea, #ca_default_navigation_menu, select, input[type="text"], input[type="checkbox"], input[type="password"] ').change(function(e){c=!0}),P('input[type="button"]').click(function(e){c=!0}),P("#caweb-options-form").submit(function(){c=!1,this.submit()}),P(".caweb-nav-tab").click(function(){for(var e=document.getElementsByClassName("caweb-nav-tab"),t=this.getAttribute("name"),n=0;n<e.length;n++)t!==e[n].getAttribute("name")?(e[n].classList.remove("nav-tab-active"),document.getElementById(e[n].getAttribute("name")).classList.add("hidden")):(e[n].classList.add("nav-tab-active"),document.getElementById(t).classList.remove("hidden"));document.getElementById("tab_selected").value=t}),P("#ca_site_version").change(function(){for(var e=this.options[this.selectedIndex].value,t=document.getElementsByClassName("extra"),n=document.getElementsByClassName("base"),a=P("#general table:first tr:nth-child(6)"),i=P("#ca_site_color_scheme")[0],l=i.options[i.selectedIndex].value,d=!1,s=0;s<t.length;s++)if(5<=e){t[s].classList.remove("hidden");for(var c=0;c<n.length;c++)n[c].classList.add("hidden");P("#ca_google_search_id").val().trim()?a.removeClass("hidden"):a.addClass("hidden")}else{t[s].classList.add("hidden"),t[s].value==l&&t[s].classList.contains("extra")&&(d=!0);for(c=0;c<n.length;c++)n[c].classList.remove("hidden")}if(d)for(s=0;s<i.options.length;s++)if(!i.options[s].classList.contains("extra")){i.selectedIndex=s;break}}),P("#resetFavIcon").click(function(){var e=args.defaultFavIcon;document.getElementById("ca_fav_ico").value=e,document.getElementById("ca_fav_ico_img").src=e,document.getElementById("ca_fav_ico_filename").value="favicon.ico"}),P("#ca_google_search_id").on("input",function(e){var t=P("#general table:first tr:nth-child(6)"),n=P("#ca_site_version option:selected").val();this.value.trim()?5<=n&&t.removeClass("hidden"):t.addClass("hidden")}),P("#ca_x_ua_compatibility").on("input",function(e){var t=this.checked,n=P(this).next();t?n.html("IE 11 browser compatibility enabled. Warning: creates accessibility errors when using IE browsers."):n.html("")}),P("#uploadedCSS, #uploadedJS").sortable(),P("#uploadedCSS, #uploadedJS").disableSelection(),P(".remove-css, .remove-js").click(function(e){e.preventDefault(),1==confirm("Are you sure you want to "+this.title+"? This can not be undone.")&&(c=!0,this.parentNode.remove())}),P("#addCSS, #addJS").click(function(e){!function(e,n){var t=e.children().children().length,a=document.createElement("TR"),i=document.createElement("TD"),l=document.createElement("A"),d=document.createElement("TD"),s=document.createElement("Input");a.classList="pending-"+n,l.classList="dashicons dashicons-dismiss remove-"+n,s.type="file",s.name=t+n+"_upload",s.id=t+n+"_upload",s.accept="."+n,l.addEventListener("click",function(e){e.preventDefault(),1==(""===this.title||confirm("Are you sure you want to "+this.title+"? This can not be undone."))&&(c=!0,this.parentNode.parentNode.remove())}),s.addEventListener("change",function(){var e=this.value.substring(this.value.lastIndexOf("\\")+1),t=0<e.lastIndexOf(".")?e.substring(e.lastIndexOf(".")+1).toLowerCase():"";""===t||n!==t?(alert(e+" isn't a valid "+n+" extension and was not uploaded."),this.parentNode.remove()):l.title="remove "+e}),d.append(l),d.append(s),a.append(i),a.append(d),e.append(a)}(P(this).closest("table"),P(this).attr("name")),c=!0}),P("#cawebAlerts").sortable(),P("#cawebAlerts").disableSelection(),P("#addAlertBanner").click(function(e){P("#caweb_alert_count").val(function(e,t){return++t});var t=P("#cawebAlerts"),n=document.createElement("LI"),a=P("#caweb_alert_count").val(),i=document.createElement("DIV"),l=P("#caweb-alert-settings"),d=document.createElement("DIV");i.classList="caweb-alert",function(e,t){var n=document.createElement("DIV"),a=document.createElement("P"),i=document.createElement("A"),l=document.createElement("A"),d=document.createElement("A"),s=document.createElement("A"),c=document.createElement("INPUT"),o=document.createElement("DIV"),r=document.createElement("INPUT"),m=document.createElement("P"),u=document.createElement("TEXTAREA");a.innerHTML="Label",i.classList="thickbox dashicons dashicons-menu",i.href="#TB_inline?width=600&height=550&modal=true&inlineId=caweb-alert-"+t,l.classList="dashicons dashicons-dismiss removeAlert",l.addEventListener("click",function(e){v(this)}),d.classList="dashicons dashicons-arrow-up alert-toggle",d.addEventListener("click",function(e){h(this)}),s.classList="dashicons activateAlert",s.addEventListener("click",function(e){p(this)}),c.name="alert-status-"+t,c.type="hidden",s.appendChild(c),o.appendChild(r),o.appendChild(m),o.appendChild(u),r.name="alert-header-"+t,r.type="text",r.placeholder="Label",m.innerHTML="Message",u.name="alert-message-"+t,u.id="alertmessage"+t,n.appendChild(a),n.appendChild(l),n.appendChild(i),n.appendChild(d),n.appendChild(s),e.appendChild(n),e.appendChild(o)}(i,a),d.id="caweb-alert-"+a,d.style.display="none",function(e,t){var n=document.createElement("FORM"),a=document.createElement("H3"),i=document.createElement("P"),l=document.createElement("LABEL"),d=document.createElement("INPUT"),s=document.createElement("LABEL"),c=document.createElement("INPUT"),o=document.createElement("P"),r=P("#ca_site_color_scheme")[0],m=r.options[r.selectedIndex].value,u=document.createElement("INPUT"),p=document.createElement("P"),h=document.createElement("LABEL"),v=document.createElement("INPUT"),g=document.createElement("DIV"),f=document.createElement("P"),b=document.createElement("INPUT"),E=document.createElement("I"),L=document.createElement("P"),N=document.createElement("INPUT"),_=document.createElement("LABEL"),x=document.createElement("LABEL"),y=document.createElement("LABEL"),C=document.createElement("INPUT"),w=document.createElement("INPUT"),I=document.createElement("P"),k=document.createElement("SPAN"),T=document.createElement("UL"),B=document.createElement("INPUT"),S=document.createElement("A"),A=document.createElement("A");n.classList="caweb-alert-"+t,a.innerHTML="Alert Settings",i.innerHTML="Display on",d.type="radio",d.name="alert-display-"+t,d.value="home",d.checked=!0,l.appendChild(d),l.appendChild(document.createTextNode("Home Page Only")),c.type="radio",c.name="alert-display-"+t,c.value="all",s.appendChild(c),s.appendChild(document.createTextNode("All Pages")),o.innerHTML="Banner Color",u.type="color",u.name="alert-banner-color-"+t,u.value=args.caweb_colors[m].highlight,h.innerHTML="Add Read More Button ",v.type="checkbox",v.classList="alert-read-more",v.name="alert-read-more-"+t,v.addEventListener("click",function(e){H(this)}),h.appendChild(v),p.appendChild(h),f.innerHTML="Read More Button Text",b.type="text",b.name="alert-read-more-text-"+t,b.maxLength=16,L.innerHTML="Read More Button URL",N.type="text",N.name="alert-read-more-url-"+t,E.innerHTML="(Max Characters: 16)",_.innerHTML="Open link in",C.type="radio",C.name="alert-read-more-target-"+t,C.checked=!0,C.value="_blank",w.type="radio",w.name="alert-read-more-target-"+t,w.value="",x.appendChild(C),x.appendChild(document.createTextNode("New Tab ")),y.appendChild(w),y.appendChild(document.createTextNode("Current Tab")),g.classList="hidden",g.appendChild(f),g.appendChild(b),g.appendChild(E),g.appendChild(L),g.appendChild(N),g.appendChild(_),g.appendChild(x),g.appendChild(y),I.innerHTML="Add Icon ",k.classList="dashicons dashicons-image-rotate resetAlertIcon",k.addEventListener("click",function(e){resetIconSelect(this.parentNode.nextElementSibling,!1)}),I.appendChild(k),T.id="caweb-icon-menu",T.className="noUpdate";for(var O=0;O<args.caweb_icons.length;O++){var M=document.createElement("LI");M.classList="icon-option ca-gov-icon-"+args.caweb_icons[O],M.title=args.caweb_icons[O],T.appendChild(M)}B.name="alert-icon-"+t,B.type="hidden",T.appendChild(B),S.className="button button-primary ok",S.innerHTML="Ok",S.addEventListener("click",function(e){U(this)}),A.className="button button-primary cancel",A.innerHTML="Cancel",A.addEventListener("click",function(e){D(this)}),n.appendChild(a),n.appendChild(i),n.appendChild(l),n.appendChild(s),n.appendChild(o),n.appendChild(u),n.appendChild(p),n.appendChild(g),n.appendChild(I),n.appendChild(T),n.appendChild(S),n.appendChild(A),e.appendChild(n)}(d,a),n.appendChild(i),t.append(n),l.append(d),wp.editor.initialize("alertmessage"+a,args.tinymce_settings),c=!0}),P(".caweb-alert div a.alert-toggle").click(function(e){h(this)}),P(".removeAlert").click(function(e){v(this)}),P(".alert-read-more").click(function(e){H(this)}),P(".resetAlertIcon").click(function(e){resetIconSelect(this.parentNode.nextElementSibling,!1)}),P(".caweb-alert div a.activateAlert").click(function(e){p(this)}),P('[class*="caweb-alert-"] .button-primary.ok').click(function(e){U(this)}),P('[class*="caweb-alert-"] .button-primary.cancel').click(function(e){D(this)});var s=P("#caweb-alert-settings");function U(e){for(var t=e.parentNode.className.substring(e.parentNode.className.lastIndexOf("-")+1),n=e.parentNode.getElementsByTagName("INPUT"),a={},i=0;i<n.length;i++){var l=n[i];if(-1<l.name.indexOf("alert-display-")&&l.checked||-1<l.name.indexOf("alert-read-more-target-")&&l.checked)a[l.name]=l.value;else if(-1==l.name.indexOf("alert-display-")&&-1==l.name.indexOf("alert-read-more-target-")){if(-1<l.name.indexOf("alert-icon-")){var d=l.parentNode.getElementsByClassName("selected");0<d.length?cawebIconSelected(P(d[0])[0],!0):l.value=""}a[l.name]=-1<l.name.indexOf("alert-read-more-")&&-1==l.name.indexOf("alert-read-more-url-")?l.checked:l.value}}s[t]=a,tb_remove()}function D(e){e.parentNode.className.substring(e.parentNode.className.lastIndexOf("-")+1);for(var t=e.parentNode.getElementsByTagName("INPUT"),n=0;n<t.length;n++){var a=t[n];if(-1<a.name.indexOf("alert-display-")&&"home"==a.value||-1<a.name.indexOf("alert-read-more-target-")&&"_blank"==a.value)a.checked=!0;else if(-1<a.name.indexOf("alert-read-more-")&&"checkbox"==a.type)a.checked=!1,a.parentNode.parentNode.nextElementSibling.classList.add("hidden");else if(-1<a.name.indexOf("alert-banner-color-")){var i=P("#ca_site_color_scheme")[0],l=i.options[i.selectedIndex].value;a.value=args.caweb_colors[l].highlight}else if(-1<a.name.indexOf("alert-icon-")){var d=a.parentNode;resetIconSelect(d,!1),""!==a.value&&P(d).find('[title="'+a.value+'"]')[0].classList.add("selected")}}tb_remove()}function i(){var e=this.id.substring(this.id.lastIndexOf("-")+1),t=document.getElementById("menu-item-"+e).className,n=document.getElementById("menu-item-settings-"+e),a=n.getElementsByClassName("unit-size-selector")[0],i=a.options[a.selectedIndex].value,l=n.getElementsByClassName("media_image")[0],d=n.getElementsByClassName("field-description")[0],s=n.getElementsByClassName("mega_menu_images")[0],c=n.getElementsByClassName("icon_selector")[0];-1!=t.indexOf("menu-item-depth-0")?(void 0!==s&&s.classList.add("show"),void 0!==c&&c.classList.add("show"),void 0!==l&&l.classList.remove("show"),void 0!==d&&d.classList.add("hidden-field")):(void 0!==s&&s.classList.remove("show"),void 0!==a&&a.parentNode.classList.add("show"),"unit1"!=i?void 0!==d&&d.classList.remove("hidden-field"):void 0!==d&&d.classList.add("hidden-field"),"unit3"==i?void 0!==l&&l.classList.add("show"):void 0!==l&&l.classList.remove("show"))}P(".resetGoogleIcon").click(function(e){resetIconSelect(this.parentNode.nextElementSibling.firstElementChild,!0)}),P('[name="ca_google_trans_enabled"]').click(function(e){"custom"!==this.value?(this.parentNode.parentNode.parentNode.nextElementSibling.classList.add("hidden"),this.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.classList.add("hidden"),this.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.nextElementSibling.classList.add("hidden")):"custom"==this.value&&(this.parentNode.parentNode.parentNode.nextElementSibling.classList.remove("hidden"),this.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.classList.remove("hidden"),this.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.nextElementSibling.classList.remove("hidden"))}),P('[name="caweb_options_submit"]').click(function(e){e.preventDefault();var t=P("#caweb-alert-settings").find("INPUT"),n=document.createElement("DIV");if(document.getElementById("header_ca_branding_alt_text").value){this.nextElementSibling.value="on",n.className="hidden";for(var a=0;a<t.length;a++){var i=t[a];((-1<i.name.indexOf("alert-display-")||-1<i.name.indexOf("alert-read-more-target-"))&&i.checked||-1==i.name.indexOf("alert-display-")&&-1==i.name.indexOf("alert-read-more-target-"))&&n.appendChild(t[a])}P("#caweb-options-form").append(n),P("#caweb-options-form").submit()}else alert("Organization Logo-Brand Alt Text can not be blank.")}),P(function(){P(document).on("click",'input[name="save_menu"]',function(n){var a=P('div.media_image.show input[name$="_caweb_nav_media_image_alt_text"]');a.each(function(e){if(""==a[e].value){var t=document.getElementById("edit-menu-item-title-"+a[e].id.substring(0,a[e].id.indexOf("_")));alert(t.value+" Navigation Media Image Alt Text can not be blank."),n.preventDefault()}})}),P(document).on("change","div .unit-size-selector",function(){var e=this.id.substring(this.id.lastIndexOf("-")+1),t=this.value,n=document.getElementById("menu-item-settings-"+e),a=n.getElementsByClassName("media_image")[0],i=n.getElementsByClassName("field-description")[0],l=n.getElementsByClassName("icon_selector")[0];"unit1"!=t?i.classList.remove("hidden-field"):i.classList.add("hidden-field"),"unit3"==t?(a.classList.add("show"),l.classList.remove("show")):(a.classList.remove("show"),l.classList.add("show"))}),P(document).on("click",".icon_selector .caweb-icon-menu li",function(e){this.parentNode.parentNode.firstElementChild.lastElementChild.value=this.title}),P(document).on("DOMSubtreeModified","#menu-to-edit",function(e){for(var t=this.getElementsByClassName("pending"),n=0;n<t.length;n++){var a=t.item(n).id.substring(t.item(n).id.lastIndexOf("-")+1);document.getElementById("edit-"+a).addEventListener("click",i)}}),P(".item-edit").click(i)})}(jQuery);