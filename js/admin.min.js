!function(n){var s,o;n(function(){var e=n(".available-headers");e.imagesLoaded(function(){e.masonry({itemSelector:".default-header",isRTL:!("undefined"==typeof isRtl||!isRtl)})}),n(document).on("click","div .library-link",function(e){var i=n(this);o=this.name,e.preventDefault();var t=i.data("option"),a=i.data("uploader"),r=i.data("icon-check")&&i.attr("data-icon-check");t&&0<t.indexOf(",")&&(t=t.split(",")),(s=wp.media.frames.customHeader=wp.media({title:i.data("choose"),library:{type:t},uploader:a,button:{text:i.data("update"),close:!0}})).on("select",function(){var t=s.state().get("selection").first(),a=(i.data("updateLink"),document.getElementById(o)),n=document.getElementById(o+"_img"),d=document.getElementById(o+"_filename"),e={action:"caweb_fav_icon_check",icon_url:t.attributes.url};if(/\d+_media_image/.test(o)){var l=document.getElementById(o.substring(0,o.indexOf("_"))+"_caweb_nav_media_image_alt_text");a.value=t.attributes.url,l.value=t.attributes.alt}else if("true"!==r){if(a.value=t.attributes.url,null!==n&&(n.src=t.attributes.url),null!==d&&(d.value=t.attributes.filename),/header_ca_branding/.test(o))document.getElementById("header_ca_branding_alt_text").value=t.attributes.alt}else jQuery.post(ajaxurl,e,function(e){1==e?(n.src=t.attributes.url,a.value=t.attributes.url,d.value=t.attributes.filename):alert("Invalid Icon Mime Type: "+t.attributes.filename)})}),s.on("open",function(){if(!a){var e=s.el.getElementsByClassName("media-frame-router")[0].getElementsByClassName("media-router")[0].getElementsByClassName("media-menu-item");e[1].click(),e[0].parentNode.removeChild(e[0])}}),s.open()})})}(jQuery),jQuery(document).ready(function(){$(".remove-alert").click(function(e){ee(this)}),$(".alert-status").click(function(e){Z(this)}),$("#add-alert").click(function(e){!function(){var e=$("#alertBanners"),t=$(e).children("li").length+1,a=document.createElement("LI"),n=document.createElement("DIV"),d=document.createElement("SPAN"),l=document.createElement("A"),i=document.createElement("H2"),r=document.createElement("SPAN"),s=document.createElement("DIV"),o=document.createElement("DIV"),c=document.createElement("INPUT"),m=document.createElement("DIV"),u=document.createElement("DIV"),p=document.createElement("LABEL"),h=document.createElement("INPUT"),g=document.createElement("DIV"),f=document.createElement("A"),v=document.createElement("LABEL"),E=document.createElement("SPAN"),b=document.createElement("DIV"),L=document.createElement("TEXTAREA"),C=document.createElement("DIV"),y=document.createElement("A"),N=document.createElement("LABEL"),x=document.createElement("SPAN"),_=document.createElement("DIV"),I=document.createElement("DIV"),k=document.createElement("LABEL"),w=document.createElement("DIV"),T=document.createElement("INPUT"),A=document.createElement("LABEL"),B=document.createElement("DIV"),S=document.createElement("INPUT"),O=document.createElement("LABEL"),P=document.createElement("DIV"),D=document.createElement("INPUT"),M=document.createElement("LABEL"),U=document.createElement("DIV"),V=document.createElement("A"),H=document.createElement("INPUT"),R=document.createElement("LABEL"),j=document.createElement("DIV"),Q=document.createElement("DIV"),z=document.createElement("INPUT"),F=document.createElement("LABEL"),J=document.createElement("DIV"),X=document.createElement("INPUT"),G=document.createElement("LABEL"),W=document.createElement("DIV");$(n).addClass("form-row"),$(d).addClass("text-danger dashicons dashicons-dismiss remove-alert mr-2"),d.addEventListener("click",function(e){ee(this)}),$(l).addClass("d-block text-decoration-none"),$(l).attr("href","#alert-banner-"+t),$(l).attr("aria-expanded","true"),$(l).attr("aria-controls","alert-banner-"+t),$(l).attr("data-toggle","collapse"),$(i).addClass("d-inline border-bottom"),$(i).html("Label"),$(r).addClass("text-secondary ca-gov-icon-"),$(o).addClass("dashicons align-middle bg-success rounded-circle alert-status mb-0"),o.addEventListener("click",function(e){Z(this)}),$(c).attr("type","hidden"),$(c).attr("name","alert-status-"+t),$(m).attr("id","alert-banner-"+t),$(m).addClass("form-row col-sm-12 border p-2 collapse show"),$(u).addClass("form-group col-sm-7"),$(p).attr("for","alert-header-"+t),$(p).html("Header"),$(h).addClass("form-control"),$(h).val("Label"),$(h).attr("type","text"),$(h).attr("placeholder","Label"),$(h).attr("name","alert-header-"+t),$(g).addClass("form-group col-sm-12"),$(f).addClass("text-decoration-none text-reset"),$(f).attr("data-toggle","collapse"),$(f).attr("href","#alert-message-"+t+"_iframe"),$(f).attr("aria-expanded","true"),$(f).attr("aria-controls","alert-message-"+t+"_iframe"),$(v).addClass("border-bottom"),$(v).attr("for","alert-message-"+t),$(v).html("Message"),$(E).addClass("text-secondary ca-gov-icon-"),$(b).addClass("collapse show"),$(b).attr("id","alert-message-"+t+"_iframe"),$(L).attr("name","alert-message-"+t),$(L).attr("id","alertmessage-"+t),$(C).addClass("form-group col-sm-12"),$(y).addClass("collapsed text-decoration-none text-reset"),$(y).attr("data-toggle","collapse"),$(y).attr("href","#alert-"+t+"-settings"),$(y).attr("aria-expanded","false"),$(y).attr("aria-controls","#alert-"+t+"-settings"),$(N).html("Settings"),$(N).addClass("border-bottom"),$(x).addClass("text-secondary ca-gov-icon-"),$(_).attr("id","alert-"+t+"-settings"),$(_).addClass("collapse"),$(I).addClass("form-group col-sm pl-0"),$(k).addClass("d-block"),$(k).html("<strong>Display on</strong>"),$(w).addClass("form-check form-check-inline"),$(T).attr("id","alert-display-"+t),$(T).attr("name","alert-display-"+t),$(T).attr("type","radio"),$(T).val("home"),$(T).attr("checked","true"),$(T).addClass("form-check-input"),$(A).addClass("form-check-label"),$(A).attr("for","alert-display-"+t),$(A).html("Home Page Only"),$(B).addClass("form-check form-check-inline"),$(S).attr("id","alert-display-"+t),$(S).attr("name","alert-display-"+t),$(S).attr("type","radio"),$(S).val("all"),$(S).addClass("form-check-input"),$(O).addClass("form-check-label"),$(O).attr("for","alert-display-"+t),$(O).html("All Pages"),$(P).addClass("form-group col-sm pl-0"),$(M).attr("for","alert-banner-color-"+t),$(M).html("<strong>Banner Color</strong>"),$(D).attr("id","alert-banner-color-"+t),$(D).attr("name","alert-banner-color-"+t),$(D).attr("type","color"),$(D).addClass("form-control-sm ml-1");var Y=$("#ca_site_color_scheme")[0],q=Y.options[Y.selectedIndex].value;$(D).val(args.caweb_colors[q].highlight),$(U).addClass("form-group pl-0"),$(R).addClass("d-block"),$(R).html("<strong>Read More Button</strong>"),$(V).attr("data-toggle","collapse"),$(V).attr("href","#alert-banner-read-more-"+t),$(V).addClass("shadow-none"),$(H).attr("type","checkbox"),$(H).attr("checked","true"),$(H).attr("name","alert-banner-read-more-"+t),$(H).attr("id","alert-banner-read-more-"+t),$(H).addClass("form-control"),$(j).attr("id","alert-banner-read-more-"+t),$(j).addClass("collapse show"),$(Q).addClass("form-group col-sm-6 pl-0 d-inline-block"),$(F).addClass("d-block"),$(F).html("<strong>Read More Button Url</strong>"),$(z).attr("type","text"),$(z).attr("name","alert-read-more-url-"+t),$(z).attr("id","alert-read-more-url-"+t),$(z).addClass("form-control"),$(J).addClass("form-group col-sm-4 pl-0 d-inline-block align-top"),$(G).addClass("d-block"),$(G).html("<strong>Open link in New Tab</strong>"),$(X).attr("type","checkbox"),$(X).attr("checked","true"),$(X).attr("data-toggle","toggle"),$(X).attr("name","alert-read-more-target-"+t),$(X).attr("id","alert-read-more-target-"+t),$(X).addClass("form-control"),$(W).addClass("form-group col-sm-12 d-inline-block pl-0");var K={action:"caweb_icon_menu",name:"alert-icon-"+t,select:"important"};$.post(ajaxurl,K,function(e){$(W).html(e)}),$(i).append(r),$(l).append(i),$(s).append(o),$(s).append(c),$(u).append(p),$(u).append(h),$(v).append(E),$(f).append(v),$(b).append(L),$(g).append(f),$(g).append(b),$(N).append(x),$(y).append(N),$(w).append(T),$(w).append(A),$(B).append(S),$(B).append(O),$(I).append(k),$(I).append(w),$(I).append(B),$(P).append(M),$(P).append(D),$(V).append(H),$(U).append(R),$(U).append(V),$(Q).append(F),$(Q).append(z),$(J).append(G),$(J).append(X),$(j).append(Q),$(j).append(J),$(_).append(I),$(_).append(P),$(_).append(U),$(_).append(j),$(_).append(W),$(C).append(y),$(C).append(_),$(m).append(u),$(m).append(g),$(m).append(C),$(n).append(d),$(n).append(l),$(n).append(s),$(n).append(m),$(a).append(n),$(e).append(a),wp.editor.initialize("alertmessage-"+t,args.tinymce_settings),console.log(args.tinymce_settings),$(H).bootstrapToggle(),$(X).bootstrapToggle({on:"Yes",off:"No"})}()});var Z=function(e){$(e).toggleClass("bg-success"),$(e).toggleClass("bg-danger");var t=$(e).hasClass("bg-success")?"active":"";$(e).next().val(t)},ee=function(e){1==confirm("Are you sure you want to remove this alert? This can not be undone.")&&(changeMade=!0,$(e).parent().remove())}}),jQuery(document).ready(function(){function a(e){var t=$(e).find("LI");for(o=0;o<t.length-1;o++)$(t[o]).removeClass("active");var a=$(e).find("input");a.length&&$(a).val("")}$(document).on("click",".caweb-icon-menu li",function(e){!function(e){a($(e).parent()),$(e).addClass("active");var t=$(e).parent().find("input");t.length&&$(t).val($(e).attr("title"))}(this)}),$(document).on("click",".caweb-icon-menu-header .resetIcon",function(e){a($(this).parent().next())})}),jQuery(document).ready(function(){$(".remove-css, .remove-js").click(function(e){e.preventDefault(),1==confirm("Are you sure you want to remove "+this.title+"? This can not be undone.")&&(changeMade=!0,this.parentNode.remove())}),$("#add-css, #add-js").click(function(e){var t=$(this).attr("id").replace("add-","");!function(e,a){var t=document.createElement("LI"),n=document.createElement("INPUT"),d=document.createElement("a");t.classList="list-group-item",n.type="file",n.accept="."+a,n.classList="form-control-file border-bottom border-warning pl-2 d-inline-block w-75",n.addEventListener("change",function(){var e=this.value.substring(this.value.lastIndexOf("\\")+1),t=0<e.lastIndexOf(".")?e.substring(e.lastIndexOf(".")+1).toLowerCase():"";""===t||a!==t?(alert(e+" isn't a valid "+a+" extension and was not uploaded."),$(this).parent().remove()):d.title="remove "+e}),d.classList="dashicons dashicons-dismiss text-danger align-middle",d.addEventListener("click",function(e){e.preventDefault(),1==(""===this.title||confirm("Are you sure you want to "+this.title+"? This can not be undone."))&&(changeMade=!0,$(this).parent().remove())}),$(t).append(d),$(t).append(n),$(e).append(t)}($("#uploaded-"+t),t),changeMade=!0})}),function(P){"use strict";var s=!1;function p(e){e.classList.toggle("inactive"),-1<e.className.indexOf("inactive")?e.firstElementChild.value="inactive":e.firstElementChild.value="active"}function h(e){e.parentNode.nextElementSibling.classList.toggle("hidden"),e.parentNode.nextElementSibling.classList.contains("hidden")?(e.parentNode.firstElementChild.innerHTML=""!==e.parentNode.nextElementSibling.firstElementChild.value.trim()?e.parentNode.nextElementSibling.firstElementChild.value:"Header",e.classList.remove("dashicons-arrow-up"),e.classList.add("dashicons-arrow-down")):(e.parentNode.firstElementChild.innerHTML="Header",e.classList.remove("dashicons-arrow-down"),e.classList.add("dashicons-arrow-up"))}function g(e){1==confirm("Are you sure you want to remove this alert? This can not be undone.")&&(s=!0,e.parentNode.parentNode.parentNode.remove())}function D(e){e.parentNode.parentNode.nextSibling.classList.toggle("hidden")}P(window).on("beforeunload",function(){if(s&&"nav-menus.php"!==args.changeCheck)return"Are you sure you want to leave?"}),P('textarea, #ca_default_navigation_menu, select, input[type="text"], input[type="checkbox"], input[type="password"] ').change(function(e){s=!0}),P('input[type="button"]').click(function(e){s=!0}),P("#caweb-options-form").submit(function(){s=!1,this.submit()}),P(".caweb-nav-tab").click(function(){for(var e=document.getElementsByClassName("caweb-nav-tab"),t=this.getAttribute("name"),a=0;a<e.length;a++)t!==e[a].getAttribute("name")?(e[a].classList.remove("nav-tab-active"),document.getElementById(e[a].getAttribute("name")).classList.add("hidden")):(e[a].classList.add("nav-tab-active"),document.getElementById(t).classList.remove("hidden"));document.getElementById("tab_selected").value=t}),P("#ca_site_version").change(function(){for(var e=this.options[this.selectedIndex].value,t=document.getElementsByClassName("extra"),a=document.getElementsByClassName("base"),n=P("#general table:first tr:nth-child(6)"),d=P("#ca_site_color_scheme")[0],l=d.options[d.selectedIndex].value,i=!1,r=0;r<t.length;r++)if(5<=e){t[r].classList.remove("hidden");for(var s=0;s<a.length;s++)a[s].classList.add("hidden");P("#ca_google_search_id").val().trim()?n.removeClass("hidden"):n.addClass("hidden")}else{t[r].classList.add("hidden"),t[r].value==l&&t[r].classList.contains("extra")&&(i=!0);for(s=0;s<a.length;s++)a[s].classList.remove("hidden")}if(i)for(r=0;r<d.options.length;r++)if(!d.options[r].classList.contains("extra")){d.selectedIndex=r;break}}),P("#resetFavIcon").click(function(){var e=args.defaultFavIcon;document.getElementById("ca_fav_ico").value=e,document.getElementById("ca_fav_ico_img").src=e,document.getElementById("ca_fav_ico_filename").value="favicon.ico"}),P("#ca_google_search_id").on("input",function(e){var t=P("#general table:first tr:nth-child(6)"),a=P("#ca_site_version option:selected").val();this.value.trim()?5<=a&&t.removeClass("hidden"):t.addClass("hidden")}),P("#ca_x_ua_compatibility").on("input",function(e){var t=this.checked,a=P(this).next();t?a.html("IE 11 browser compatibility enabled. Warning: creates accessibility errors when using IE browsers."):a.html("")}),P("#uploadedCSS, #uploadedJS").sortable(),P("#uploadedCSS, #uploadedJS").disableSelection(),P(".remove-css, .remove-js").click(function(e){e.preventDefault(),1==confirm("Are you sure you want to "+this.title+"? This can not be undone.")&&(s=!0,this.parentNode.remove())}),P("#addCSS, #addJS").click(function(e){!function(e,a){var t=e.children().children().length,n=document.createElement("TR"),d=document.createElement("TD"),l=document.createElement("A"),i=document.createElement("TD"),r=document.createElement("Input");n.classList="pending-"+a,l.classList="dashicons dashicons-dismiss remove-"+a,r.type="file",r.name=t+a+"_upload",r.id=t+a+"_upload",r.accept="."+a,l.addEventListener("click",function(e){e.preventDefault(),1==(""===this.title||confirm("Are you sure you want to "+this.title+"? This can not be undone."))&&(s=!0,this.parentNode.parentNode.remove())}),r.addEventListener("change",function(){var e=this.value.substring(this.value.lastIndexOf("\\")+1),t=0<e.lastIndexOf(".")?e.substring(e.lastIndexOf(".")+1).toLowerCase():"";""===t||a!==t?(alert(e+" isn't a valid "+a+" extension and was not uploaded."),this.parentNode.remove()):l.title="remove "+e}),i.append(l),i.append(r),n.append(d),n.append(i),e.append(n)}(P(this).closest("table"),P(this).attr("name")),s=!0}),P("#cawebAlerts").sortable(),P("#cawebAlerts").disableSelection(),P("#addAlertBanner").click(function(e){P("#caweb_alert_count").val(function(e,t){return++t});var t=P("#cawebAlerts"),a=document.createElement("LI"),n=P("#caweb_alert_count").val(),d=document.createElement("DIV"),l=P("#caweb-alert-settings"),i=document.createElement("DIV");d.classList="caweb-alert",function(e,t){var a=document.createElement("DIV"),n=document.createElement("P"),d=document.createElement("A"),l=document.createElement("A"),i=document.createElement("A"),r=document.createElement("A"),s=document.createElement("INPUT"),o=document.createElement("DIV"),c=document.createElement("INPUT"),m=document.createElement("P"),u=document.createElement("TEXTAREA");n.innerHTML="Label",d.classList="thickbox dashicons dashicons-menu",d.href="#TB_inline?width=600&height=550&modal=true&inlineId=caweb-alert-"+t,l.classList="dashicons dashicons-dismiss removeAlert",l.addEventListener("click",function(e){g(this)}),i.classList="dashicons dashicons-arrow-up alert-toggle",i.addEventListener("click",function(e){h(this)}),r.classList="dashicons activateAlert",r.addEventListener("click",function(e){p(this)}),s.name="alert-status-"+t,s.type="hidden",r.appendChild(s),o.appendChild(c),o.appendChild(m),o.appendChild(u),c.name="alert-header-"+t,c.type="text",c.placeholder="Label",m.innerHTML="Message",u.name="alert-message-"+t,u.id="alertmessage"+t,a.appendChild(n),a.appendChild(l),a.appendChild(d),a.appendChild(i),a.appendChild(r),e.appendChild(a),e.appendChild(o)}(d,n),i.id="caweb-alert-"+n,i.style.display="none",function(e,t){var a=document.createElement("FORM"),n=document.createElement("H3"),d=document.createElement("P"),l=document.createElement("LABEL"),i=document.createElement("INPUT"),r=document.createElement("LABEL"),s=document.createElement("INPUT"),o=document.createElement("P"),c=P("#ca_site_color_scheme")[0],m=c.options[c.selectedIndex].value,u=document.createElement("INPUT"),p=document.createElement("P"),h=document.createElement("LABEL"),g=document.createElement("INPUT"),f=document.createElement("DIV"),v=document.createElement("P"),E=document.createElement("INPUT"),b=document.createElement("I"),$=document.createElement("P"),L=document.createElement("INPUT"),C=document.createElement("LABEL"),y=document.createElement("LABEL"),N=document.createElement("LABEL"),x=document.createElement("INPUT"),_=document.createElement("INPUT"),I=document.createElement("P"),k=document.createElement("SPAN"),w=document.createElement("UL"),T=document.createElement("INPUT"),A=document.createElement("A"),B=document.createElement("A");a.classList="caweb-alert-"+t,n.innerHTML="Alert Settings",d.innerHTML="Display on",i.type="radio",i.name="alert-display-"+t,i.value="home",i.checked=!0,l.appendChild(i),l.appendChild(document.createTextNode("Home Page Only")),s.type="radio",s.name="alert-display-"+t,s.value="all",r.appendChild(s),r.appendChild(document.createTextNode("All Pages")),o.innerHTML="Banner Color",u.type="color",u.name="alert-banner-color-"+t,u.value=args.caweb_colors[m].highlight,h.innerHTML="Add Read More Button ",g.type="checkbox",g.classList="alert-read-more",g.name="alert-read-more-"+t,g.addEventListener("click",function(e){D(this)}),h.appendChild(g),p.appendChild(h),v.innerHTML="Read More Button Text",E.type="text",E.name="alert-read-more-text-"+t,E.maxLength=16,$.innerHTML="Read More Button URL",L.type="text",L.name="alert-read-more-url-"+t,b.innerHTML="(Max Characters: 16)",C.innerHTML="Open link in",x.type="radio",x.name="alert-read-more-target-"+t,x.checked=!0,x.value="_blank",_.type="radio",_.name="alert-read-more-target-"+t,_.value="",y.appendChild(x),y.appendChild(document.createTextNode("New Tab ")),N.appendChild(_),N.appendChild(document.createTextNode("Current Tab")),f.classList="hidden",f.appendChild(v),f.appendChild(E),f.appendChild(b),f.appendChild($),f.appendChild(L),f.appendChild(C),f.appendChild(y),f.appendChild(N),I.innerHTML="Add Icon ",k.classList="dashicons dashicons-image-rotate resetAlertIcon",k.addEventListener("click",function(e){resetIconSelect(this.parentNode.nextElementSibling,!1)}),I.appendChild(k),w.id="caweb-icon-menu",w.className="noUpdate";for(var S=0;S<args.caweb_icons.length;S++){var O=document.createElement("LI");O.classList="icon-option ca-gov-icon-"+args.caweb_icons[S],O.title=args.caweb_icons[S],w.appendChild(O)}T.name="alert-icon-"+t,T.type="hidden",w.appendChild(T),A.className="button button-primary ok",A.innerHTML="Ok",A.addEventListener("click",function(e){M(this)}),B.className="button button-primary cancel",B.innerHTML="Cancel",B.addEventListener("click",function(e){U(this)}),a.appendChild(n),a.appendChild(d),a.appendChild(l),a.appendChild(r),a.appendChild(o),a.appendChild(u),a.appendChild(p),a.appendChild(f),a.appendChild(I),a.appendChild(w),a.appendChild(A),a.appendChild(B),e.appendChild(a)}(i,n),a.appendChild(d),t.append(a),l.append(i),wp.editor.initialize("alertmessage"+n,args.tinymce_settings),s=!0}),P(".caweb-alert div a.alert-toggle").click(function(e){h(this)}),P(".removeAlert").click(function(e){g(this)}),P(".alert-read-more").click(function(e){D(this)}),P(".resetAlertIcon").click(function(e){resetIconSelect(this.parentNode.nextElementSibling,!1)}),P(".caweb-alert div a.activateAlert").click(function(e){p(this)}),P('[class*="caweb-alert-"] .button-primary.ok').click(function(e){M(this)}),P('[class*="caweb-alert-"] .button-primary.cancel').click(function(e){U(this)});var r=P("#caweb-alert-settings");function M(e){for(var t=e.parentNode.className.substring(e.parentNode.className.lastIndexOf("-")+1),a=e.parentNode.getElementsByTagName("INPUT"),n={},d=0;d<a.length;d++){var l=a[d];if(-1<l.name.indexOf("alert-display-")&&l.checked||-1<l.name.indexOf("alert-read-more-target-")&&l.checked)n[l.name]=l.value;else if(-1==l.name.indexOf("alert-display-")&&-1==l.name.indexOf("alert-read-more-target-")){if(-1<l.name.indexOf("alert-icon-")){var i=l.parentNode.getElementsByClassName("selected");0<i.length?cawebIconSelected(P(i[0])[0],!0):l.value=""}n[l.name]=-1<l.name.indexOf("alert-read-more-")&&-1==l.name.indexOf("alert-read-more-url-")?l.checked:l.value}}r[t]=n,tb_remove()}function U(e){e.parentNode.className.substring(e.parentNode.className.lastIndexOf("-")+1);for(var t=e.parentNode.getElementsByTagName("INPUT"),a=0;a<t.length;a++){var n=t[a];if(-1<n.name.indexOf("alert-display-")&&"home"==n.value||-1<n.name.indexOf("alert-read-more-target-")&&"_blank"==n.value)n.checked=!0;else if(-1<n.name.indexOf("alert-read-more-")&&"checkbox"==n.type)n.checked=!1,n.parentNode.parentNode.nextElementSibling.classList.add("hidden");else if(-1<n.name.indexOf("alert-banner-color-")){var d=P("#ca_site_color_scheme")[0],l=d.options[d.selectedIndex].value;n.value=args.caweb_colors[l].highlight}else if(-1<n.name.indexOf("alert-icon-")){var i=n.parentNode;resetIconSelect(i,!1),""!==n.value&&P(i).find('[title="'+n.value+'"]')[0].classList.add("selected")}}tb_remove()}function d(){var e=this.id.substring(this.id.lastIndexOf("-")+1),t=document.getElementById("menu-item-"+e).className,a=document.getElementById("menu-item-settings-"+e),n=a.getElementsByClassName("unit-size-selector")[0],d=n.options[n.selectedIndex].value,l=a.getElementsByClassName("media_image")[0],i=a.getElementsByClassName("field-description")[0],r=a.getElementsByClassName("mega_menu_images")[0],s=a.getElementsByClassName("icon_selector")[0];-1!=t.indexOf("menu-item-depth-0")?(void 0!==r&&r.classList.add("show"),void 0!==s&&s.classList.add("show"),void 0!==l&&l.classList.remove("show"),void 0!==i&&i.classList.add("hidden-field")):(void 0!==r&&r.classList.remove("show"),void 0!==n&&n.parentNode.classList.add("show"),"unit1"!=d?void 0!==i&&i.classList.remove("hidden-field"):void 0!==i&&i.classList.add("hidden-field"),"unit3"==d?void 0!==l&&l.classList.add("show"):void 0!==l&&l.classList.remove("show"))}P(".resetGoogleIcon").click(function(e){resetIconSelect(this.parentNode.nextElementSibling.firstElementChild,!0)}),P('[name="ca_google_trans_enabled"]').click(function(e){"custom"!==this.value?(this.parentNode.parentNode.parentNode.nextElementSibling.classList.add("hidden"),this.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.classList.add("hidden"),this.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.nextElementSibling.classList.add("hidden")):"custom"==this.value&&(this.parentNode.parentNode.parentNode.nextElementSibling.classList.remove("hidden"),this.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.classList.remove("hidden"),this.parentNode.parentNode.parentNode.nextElementSibling.nextElementSibling.nextElementSibling.classList.remove("hidden"))}),P('[name="caweb_options_submit"]').click(function(e){e.preventDefault();var t=P("#caweb-alert-settings").find("INPUT"),a=document.createElement("DIV");if(document.getElementById("header_ca_branding_alt_text").value){this.nextElementSibling.value="on",a.className="hidden";for(var n=0;n<t.length;n++){var d=t[n];((-1<d.name.indexOf("alert-display-")||-1<d.name.indexOf("alert-read-more-target-"))&&d.checked||-1==d.name.indexOf("alert-display-")&&-1==d.name.indexOf("alert-read-more-target-"))&&a.appendChild(t[n])}P("#caweb-options-form").append(a),P("#caweb-options-form").submit()}else alert("Organization Logo-Brand Alt Text can not be blank.")}),P(function(){P(document).on("click",'input[name="save_menu"]',function(a){var n=P('div.media_image.show input[name$="_caweb_nav_media_image_alt_text"]');n.each(function(e){if(""==n[e].value){var t=document.getElementById("edit-menu-item-title-"+n[e].id.substring(0,n[e].id.indexOf("_")));alert(t.value+" Navigation Media Image Alt Text can not be blank."),a.preventDefault()}})}),P(document).on("change","div .unit-size-selector",function(){var e=this.id.substring(this.id.lastIndexOf("-")+1),t=this.value,a=document.getElementById("menu-item-settings-"+e),n=a.getElementsByClassName("media_image")[0],d=a.getElementsByClassName("field-description")[0],l=a.getElementsByClassName("icon_selector")[0];"unit1"!=t?d.classList.remove("hidden-field"):d.classList.add("hidden-field"),"unit3"==t?(n.classList.add("show"),l.classList.remove("show")):(n.classList.remove("show"),l.classList.add("show"))}),P(document).on("click",".icon_selector .caweb-icon-menu li",function(e){this.parentNode.parentNode.firstElementChild.lastElementChild.value=this.title}),P(document).on("DOMSubtreeModified","#menu-to-edit",function(e){for(var t=this.getElementsByClassName("pending"),a=0;a<t.length;a++){var n=t.item(a).id.substring(t.item(a).id.lastIndexOf("-")+1);document.getElementById("edit-"+n).addEventListener("click",d)}}),P(".item-edit").click(d)})}(jQuery);