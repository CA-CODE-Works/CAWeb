!function(m){var i,$;m(function(){var e=m(".available-headers");e.imagesLoaded(function(){e.masonry({itemSelector:".default-header",isRTL:!("undefined"==typeof isRtl||!isRtl)})}),m(document).on("click","div .library-link",function(e){var t=m(this);$=this.name,e.preventDefault();var a=t.data("option"),n=t.data("uploader"),s=t.data("icon-check")&&t.attr("data-icon-check");a&&0<a.indexOf(",")&&(a=a.split(",")),(i=wp.media.frames.customHeader=wp.media({title:t.data("choose"),library:{type:a},uploader:n,button:{text:t.data("update"),close:!0}})).on("select",function(){var e=i.state().get("selection").first(),t=e.attributes.url,a=e.attributes.alt,n=e.attributes.filename,r=m('input[type="hidden"][name="'+$+'"]'),o=m("#"+$+"_img"),l=m('input[type="text"][id="'+$+'_filename"]');if(/\d+_media_image/.test($)){var d=document.getElementById($.substring(0,$.indexOf("_"))+"_caweb_nav_media_image_alt_text");r.value=t,d.value=a}else if("true"!==s)null!==r&&r.val(t),null!==o&&o.attr("src",t),null!==l&&l.val(n),/header_ca_branding/.test($)&&m("#header_ca_branding_alt_text").val(a);else{var c={action:"caweb_fav_icon_check",icon_url:t};jQuery.post(ajaxurl,c,function(e){1==e?(null!==r&&r.val(t),null!==o&&o.attr("src",t),null!==l&&l.val(n)):alert("Invalid Icon Mime Type: "+n)})}}),i.on("open",function(){if(!n){var e=i.el.getElementsByClassName("media-frame-router")[0].getElementsByClassName("media-router")[0].getElementsByClassName("media-menu-item");e[1].click(),e[0].parentNode.removeChild(e[0])}}),i.open()})})}(jQuery),jQuery(document).ready(function(){$(".remove-alert").click(function(e){re(this)}),$(".alert-status").click(function(e){ne(this)}),$("#add-alert").click(function(e){!function(){var e=$("#alertBanners"),t=$(e).children("li").length+1,a=document.createElement("LI"),n=document.createElement("DIV"),r=document.createElement("SPAN"),o=document.createElement("A"),l=document.createElement("H2"),d=document.createElement("SPAN"),c=document.createElement("DIV"),s=document.createElement("DIV"),m=document.createElement("INPUT"),i=document.createElement("DIV"),p=document.createElement("DIV"),u=document.createElement("LABEL"),g=document.createElement("INPUT"),f=document.createElement("DIV"),h=document.createElement("A"),v=document.createElement("LABEL"),E=document.createElement("SPAN"),b=document.createElement("DIV"),C=document.createElement("TEXTAREA"),y=document.createElement("DIV"),_=document.createElement("A"),k=document.createElement("LABEL"),I=document.createElement("SPAN"),x=document.createElement("DIV"),L=document.createElement("DIV"),A=document.createElement("LABEL"),w=document.createElement("DIV"),D=document.createElement("INPUT"),N=document.createElement("LABEL"),T=document.createElement("DIV"),B=document.createElement("INPUT"),V=document.createElement("LABEL"),P=document.createElement("DIV"),M=document.createElement("INPUT"),U=document.createElement("LABEL"),j=document.createElement("DIV"),O=document.createElement("A"),R=document.createElement("INPUT"),S=document.createElement("LABEL"),Q=document.createElement("DIV"),H=document.createElement("DIV"),F=document.createElement("INPUT"),z=document.createElement("LABEL"),X=document.createElement("SMALL"),Y=document.createElement("DIV"),q=document.createElement("INPUT"),G=document.createElement("LABEL"),J=document.createElement("DIV"),K=document.createElement("INPUT"),W=document.createElement("LABEL"),Z=document.createElement("DIV");$(n).addClass("form-row"),$(r).addClass("text-danger dashicons dashicons-dismiss remove-alert mr-2"),r.addEventListener("click",function(e){re(this)}),$(o).addClass("d-block text-decoration-none"),$(o).attr("href","#alert-banner-"+t),$(o).attr("aria-expanded","true"),$(o).attr("aria-controls","alert-banner-"+t),$(o).attr("data-toggle","collapse"),$(l).addClass("d-inline border-bottom"),$(l).html("Label"),$(d).addClass("text-secondary ca-gov-icon-"),$(s).addClass("dashicons align-middle bg-success rounded-circle alert-status mb-0"),s.addEventListener("click",function(e){ne(this)}),$(m).attr("type","hidden"),$(m).attr("name","alert-status-"+t),$(i).attr("id","alert-banner-"+t),$(i).addClass("form-row col-sm-12 border p-2 collapse show"),$(p).addClass("form-group col-sm-7"),$(u).attr("for","alert-header-"+t),$(u).html("Header"),$(g).addClass("form-control"),$(g).val("Label"),$(g).attr("type","text"),$(g).attr("placeholder","Label"),$(g).attr("name","alert-header-"+t),$(f).addClass("form-group col-sm-12"),$(h).addClass("text-decoration-none text-reset"),$(h).attr("data-toggle","collapse"),$(h).attr("href","#alert-message-"+t+"_iframe"),$(h).attr("aria-expanded","true"),$(h).attr("aria-controls","alert-message-"+t+"_iframe"),$(v).addClass("border-bottom"),$(v).attr("for","alert-message-"+t),$(v).html("Message"),$(E).addClass("text-secondary ca-gov-icon-"),$(b).addClass("collapse show"),$(b).attr("id","alert-message-"+t+"_iframe"),$(C).attr("name","alert-message-"+t),$(C).attr("id","alertmessage-"+t),$(y).addClass("form-group col-sm-12"),$(_).addClass("collapsed text-decoration-none text-reset"),$(_).attr("data-toggle","collapse"),$(_).attr("href","#alert-"+t+"-settings"),$(_).attr("aria-expanded","false"),$(_).attr("aria-controls","#alert-"+t+"-settings"),$(k).html("Settings"),$(k).addClass("border-bottom"),$(I).addClass("text-secondary ca-gov-icon-"),$(x).attr("id","alert-"+t+"-settings"),$(x).addClass("collapse"),$(L).addClass("form-group col-sm pl-0"),$(A).addClass("d-block"),$(A).html("<strong>Display on</strong>"),$(w).addClass("form-check form-check-inline"),$(D).attr("id","alert-display-"+t),$(D).attr("name","alert-display-"+t),$(D).attr("type","radio"),$(D).val("home"),$(D).attr("checked","true"),$(D).addClass("form-check-input"),$(N).addClass("form-check-label"),$(N).attr("for","alert-display-"+t),$(N).html("Home Page Only"),$(T).addClass("form-check form-check-inline"),$(B).attr("id","alert-display-"+t),$(B).attr("name","alert-display-"+t),$(B).attr("type","radio"),$(B).val("all"),$(B).addClass("form-check-input"),$(V).addClass("form-check-label"),$(V).attr("for","alert-display-"+t),$(V).html("All Pages"),$(P).addClass("form-group col-sm pl-0"),$(U).attr("for","alert-banner-color-"+t),$(U).html("<strong>Banner Color</strong>"),$(M).attr("id","alert-banner-color-"+t),$(M).attr("name","alert-banner-color-"+t),$(M).attr("type","color"),$(M).addClass("form-control-sm ml-1");var ee=$("#ca_site_color_scheme")[0],te=ee.options[ee.selectedIndex].value;$(M).val(args.caweb_colors[te].highlight),$(j).addClass("form-group pl-0"),$(S).addClass("d-block"),$(S).html("<strong>Read More Button</strong>"),$(O).attr("data-toggle","collapse"),$(O).attr("href","#alert-banner-read-more-"+t),$(O).addClass("shadow-none"),$(R).attr("type","checkbox"),$(R).attr("checked","true"),$(R).attr("name","alert-banner-read-more-"+t),$(R).attr("id","alert-banner-read-more-"+t),$(R).addClass("form-control"),$(Q).attr("id","alert-banner-read-more-"+t),$(Q).addClass("collapse show"),$(H).addClass("form-group col-sm-6 pl-0"),$(z).addClass("d-block"),$(z).html("<strong>Read More Button Text</strong>"),$(F).attr("type","text"),$(F).attr("name","alert-read-more-text-"+t),$(F).attr("id","alert-read-more-text-"+t),$(F).addClass("form-control"),$(X).addClass("text-muted"),$(X).html("(Max Characters: 16)"),$(Y).addClass("form-group col-sm-6 pl-0 d-inline-block"),$(G).addClass("d-block"),$(G).html("<strong>Read More Button Url</strong>"),$(q).attr("type","text"),$(q).attr("name","alert-read-more-url-"+t),$(q).attr("id","alert-read-more-url-"+t),$(q).addClass("form-control"),$(J).addClass("form-group col-sm-4 pl-0 d-inline-block align-top"),$(W).addClass("d-block"),$(W).html("<strong>Open link in New Tab</strong>"),$(K).attr("type","checkbox"),$(K).attr("checked","true"),$(K).attr("data-toggle","toggle"),$(K).attr("name","alert-read-more-target-"+t),$(K).attr("id","alert-read-more-target-"+t),$(K).addClass("form-control"),$(Z).addClass("form-group col-sm-12 d-inline-block pl-0");var ae={action:"caweb_icon_menu",name:"alert-icon-"+t,select:"important"};$.post(ajaxurl,ae,function(e){$(Z).html(e)}),$(l).append(d),$(o).append(l),$(c).append(s),$(c).append(m),$(p).append(u),$(p).append(g),$(v).append(E),$(h).append(v),$(b).append(C),$(f).append(h),$(f).append(b),$(k).append(I),$(_).append(k),$(w).append(D),$(w).append(N),$(T).append(B),$(T).append(V),$(L).append(A),$(L).append(w),$(L).append(T),$(P).append(U),$(P).append(M),$(O).append(R),$(j).append(S),$(j).append(O),$(H).append(z),$(H).append(F),$(H).append(G),$(H).append(X),$(Y).append(G),$(Y).append(q),$(J).append(W),$(J).append(K),$(Q).append(H),$(Q).append(Y),$(Q).append(J),$(x).append(L),$(x).append(P),$(x).append(j),$(x).append(Q),$(x).append(Z),$(y).append(_),$(y).append(x),$(i).append(p),$(i).append(f),$(i).append(y),$(n).append(r),$(n).append(o),$(n).append(c),$(n).append(i),$(a).append(n),$(e).append(a),wp.editor.initialize("alertmessage-"+t,args.tinymce_settings),console.log(args.tinymce_settings),$(R).bootstrapToggle(),$(K).bootstrapToggle({on:"Yes",off:"No"})}()});var ne=function(e){$(e).toggleClass("bg-success"),$(e).toggleClass("bg-danger");var t=$(e).hasClass("bg-success")?"active":"";$(e).next().val(t)},re=function(e){1==confirm("Are you sure you want to remove this alert? This can not be undone.")&&(changeMade=!0,$(e).parent().remove())}}),jQuery(document).ready(function(){function a(e){var t=$(e).find("LI");for(o=0;o<t.length-1;o++)$(t[o]).removeClass("active");var a=$(e).find("input");a.length&&$(a).val("")}$(document).on("click",".caweb-icon-menu li",function(e){!function(e){a($(e).parent()),$(e).addClass("active");var t=$(e).parent().find("input");t.length&&$(t).val($(e).attr("title"))}(this)}),$(document).on("click",".caweb-icon-menu-header .resetIcon",function(e){a($(this).parent().next())})}),jQuery(document).ready(function(){$(".remove-css, .remove-js").click(function(e){e.preventDefault(),1==confirm("Are you sure you want to remove "+this.title+"? This can not be undone.")&&(changeMade=!0,this.parentNode.remove())}),$("#add-css, #add-js").click(function(e){var t=$(this).attr("id").replace("add-","");!function(e,a){var t=document.createElement("LI"),n=document.createElement("INPUT"),r=document.createElement("a");t.classList="list-group-item",n.type="file",n.accept="."+a,n.classList="form-control-file border-bottom border-warning pl-2 d-inline-block w-75",n.addEventListener("change",function(){var e=this.value.substring(this.value.lastIndexOf("\\")+1),t=0<e.lastIndexOf(".")?e.substring(e.lastIndexOf(".")+1).toLowerCase():"";""===t||a!==t?(alert(e+" isn't a valid "+a+" extension and was not uploaded."),$(this).parent().remove()):r.title="remove "+e}),r.classList="dashicons dashicons-dismiss text-danger align-middle",r.addEventListener("click",function(e){e.preventDefault(),1==(""===this.title||confirm("Are you sure you want to "+this.title+"? This can not be undone."))&&(changeMade=!0,$(this).parent().remove())}),$(t).append(r),$(t).append(n),$(e).append(t)}($("#uploaded-"+t),t),changeMade=!0})}),jQuery(document).ready(function(){"use strict";var a=!1;$(window).on("beforeunload",function(){if(a&&"nav-menus.php"!==args.changeCheck)return"Are you sure you want to leave?"}),$("#resetFavIcon").click(function(){var e=args.defaultFavIcon,t=e.substring(e.lastIndexOf("/")+1);$('input[name="ca_fav_ico"]').val(t),$("#ca_fav_ico_img").attr("src",e),a=!0}),$('#ca_google_trans_enabled_custom, label[for="ca_google_trans_enabled_custom"]').click(function(){$("#ca_google_trans_enabled_custom_extras").collapse("toggle")})});