!function(d){var u,m;d(function(){var e=d(".available-headers");e.imagesLoaded(function(){e.masonry({itemSelector:".default-header",isRTL:!("undefined"==typeof isRtl||!isRtl)})}),d(document).on("click","div .library-link",function(e){var t=d(this);m=this.name,e.preventDefault();var a=t.data("option"),n=t.data("uploader"),l=t.data("icon-check")&&t.attr("data-icon-check");a&&0<a.indexOf(",")&&(a=a.split(",")),(u=wp.media.frames.customHeader=wp.media({title:t.data("choose"),library:{type:a},uploader:n,button:{text:t.data("update"),close:!0}})).on("select",function(){var e=u.state().get("selection").first(),t=e.attributes.url,a=e.attributes.alt,n=e.attributes.filename,i=d('input[type="text"][name="'+m+'"]'),r=d("#"+m+"_img"),o=d('input[type="hidden"][name="'+m+'_filename"]');if(/\d+_media_image/.test(m)){var c=document.getElementById(m.substring(0,m.indexOf("_"))+"_caweb_nav_media_image_alt_text");i.value=t,c.value=a}else if("true"!==l)i.val(n),null!==r&&r.attr("src",t),null!==o&&o.val(t),/header_ca_branding/.test(m)&&d("#header_ca_branding_alt_text").val(a);else{var s={action:"caweb_fav_icon_check",icon_url:t};jQuery.post(ajaxurl,s,function(e){1==e?(r.attr("src",t),i.val(n),o.val(t)):alert("Invalid Icon Mime Type: "+n)})}}),u.on("open",function(){if(!n){var e=u.el.getElementsByClassName("media-frame-router")[0].getElementsByClassName("media-router")[0].getElementsByClassName("media-menu-item");e[1].click(),e[0].parentNode.removeChild(e[0])}}),u.open()})})}(jQuery),jQuery(document).ready(function(){function a(e){var t=$(e).find("LI");for(o=0;o<t.length-1;o++)$(t[o]).removeClass("active");var a=$(e).find("input");a.length&&$(a).val("")}$(document).on("click","#caweb-icon-menu li",function(e){!function(e){a($(e).parent()),$(e).addClass("active");var t=$(e).parent().find("input");t.length&&$(t).val($(e).attr("title"))}(this)}),$(document).on("click","#caweb-icon-menu-header .resetIcon",function(e){a($(this).parent().next())})}),jQuery(document).ready(function(){$(".remove-css, .remove-js").click(function(e){e.preventDefault(),1==confirm("Are you sure you want to remove "+this.title+"? This can not be undone.")&&(changeMade=!0,this.parentNode.remove())}),$("#add-css, #add-js").click(function(e){var t=$(this).attr("id").replace("add-","");!function(e,a){var t=document.createElement("LI"),n=document.createElement("INPUT"),i=document.createElement("a");t.classList="list-group-item",n.type="file",n.accept="."+a,n.classList="form-control-file border-bottom border-warning pl-2 d-inline-block w-75",n.addEventListener("change",function(){var e=this.value.substring(this.value.lastIndexOf("\\")+1),t=0<e.lastIndexOf(".")?e.substring(e.lastIndexOf(".")+1).toLowerCase():"";""===t||a!==t?(alert(e+" isn't a valid "+a+" extension and was not uploaded."),$(this).parent().remove()):i.title="remove "+e}),i.classList="dashicons dashicons-dismiss text-danger align-middle",i.addEventListener("click",function(e){e.preventDefault(),1==(""===this.title||confirm("Are you sure you want to "+this.title+"? This can not be undone."))&&(changeMade=!0,$(this).parent().remove())}),$(t).append(i),$(t).append(n),$(e).append(t)}($("#uploaded-"+t),t),changeMade=!0})}),jQuery(document).ready(function(){"use strict";var a=!1;$(window).on("beforeunload",function(){if(a&&"nav-menus.php"!==args.changeCheck)return"Are you sure you want to leave?"}),$("#resetFavIcon").click(function(){var e=args.defaultFavIcon,t=e.substring(e.lastIndexOf("/")+1);$('input[name="ca_fav_ico"]').val(t),$("#ca_fav_ico_img").attr("src",e),a=!0})});